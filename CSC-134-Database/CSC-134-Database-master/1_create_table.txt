CREATE TABLE Doctor (
DSSN int,
DNAME varchar(255),
SPECIALTY varchar(255),
PRIMARY KEY (DSSN)
);

CREATE TABLE Prescription (
DSSN int,
PRE_NO int,
PDATE date,
PRIMARY KEY (PRE_NO),
FOREIGN KEY (DSSN) REFERENCES Doctor(DSSN)
);

CREATE TABLE Ph_Company (
PCNAME varchar(255),
PHONE int,
PRIMARY KEY (PCNAME)
);

CREATE TABLE Drug (
PCNAME varchar(255),
TRADE_NAME varchar(255),
FORMULA varchar(255),
PRIMARY KEY (TRADE_NAME),
FOREIGN KEY (PCNAME) REFERENCES Ph_Company(PCNAME)
);

CREATE TABLE Consist_Of (
DSSN int,
PRE_NO int,
PCNAME varchar(255),
TRADE_NAME varchar(255),
FOREIGN KEY (DSSN,PRE_NO) REFERENCES Prescription(DSSN,PRE_NO),
FOREIGN KEY (PCNAME,TRADE_NAME) REFERENCES Drug(PCNAME,TRADE_NAME)
);

CREATE TABLE Pharmacy (
PHONE int,
PNAME varchar(255),
ADDRESS varchar(255),
PRIMARY KEY (PNAME)
);

CREATE TABLE Sell (
PNAME varchar(255),
PCNAME varchar(255),
TRADE_NAME varchar(255),
PRICE int,
FOREIGN KEY (PNAME) REFERENCES Pharmacy(PNAME),
FOREIGN KEY (PCNAME,TRADE_NAME) REFERENCES Drug(PCNAME,TRADE_NAME)
);